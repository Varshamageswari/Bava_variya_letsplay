<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Love Game Challenge ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #111;
  color: white;
  text-align: center;
  font-family: Arial;
}
canvas {
  background: #222;
  display: block;
  margin: 20px auto;
  border-radius: 12px;
}
button {
  padding: 12px 25px;
  border-radius: 30px;
  border: none;
  background: #ff3366;
  color: white;
  font-size: 16px;
  cursor: pointer;
}
.hidden { display: none; }
</style>
</head>

<body>

<h1>ğŸ’– Win My Heart ğŸ’–</h1>

<button id="startBtn">Start Game</button>
<canvas id="game" width="300" height="400" class="hidden"></canvas>
<p id="msg"></p>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
let game = 1, score = 0;
let player, obstacles, bullets;

document.getElementById("startBtn").onclick = () => startGame();

function startGame() {
  score = 0;
  canvas.classList.remove("hidden");
  document.getElementById("startBtn").classList.add("hidden");
  if (game === 1) carGame();
  if (game === 2) runGame();
  if (game === 3) gunGame();
}

function winGame() {
  game++;
  canvas.classList.add("hidden");
  if (game <= 3) {
    document.getElementById("startBtn").innerText = "Next Game â¤ï¸";
    document.getElementById("startBtn").classList.remove("hidden");
  } else {
    document.body.innerHTML = `
      <h1>ğŸ’ YOU WON ğŸ’</h1>
      <p>You cleared all gamesâ€¦ now you own my heart ğŸ’–</p>
    `;
  }
}

/* ğŸš— CAR GAME */
function carGame() {
  player = { x: 130, y: 330, w: 40, h: 40 };
  obstacles = [];
  document.onkeydown = e => {
    if (e.key === "ArrowLeft") player.x -= 20;
    if (e.key === "ArrowRight") player.x += 20;
  };

  function loop() {
    ctx.clearRect(0,0,300,400);
    ctx.fillStyle="red";
    ctx.fillRect(player.x,player.y,player.w,player.h);

    if (Math.random()<0.03)
      obstacles.push({x:Math.random()*260,y:0});

    ctx.fillStyle="white";
    obstacles.forEach(o=>{
      o.y+=5;
      ctx.fillRect(o.x,o.y,30,30);
      if (o.y>400) score++;
      if (o.x<player.x+40 && o.x+30>player.x && o.y<player.y+40 && o.y+30>player.y)
        return;
    });

    if (score>10) return winGame();
    requestAnimationFrame(loop);
  }
  loop();
}

/* ğŸƒ RUNNER GAME */
function runGame() {
  player = { y: 300, vy: 0 };
  obstacles = [];

  document.onclick = ()=> player.vy = -10;

  function loop() {
    ctx.clearRect(0,0,300,400);
    player.y += player.vy;
    player.vy += 0.5;
    if (player.y>300) player.y=300;

    ctx.fillStyle="cyan";
    ctx.fillRect(50,player.y,30,30);

    if (Math.random()<0.03)
      obstacles.push({x:300});

    obstacles.forEach(o=>{
      o.x-=5;
      ctx.fillRect(o.x,320,30,30);
      if (o.x<80 && o.x>20 && player.y>290) return;
      if (o.x<0) score++;
    });

    if (score>8) return winGame();
    requestAnimationFrame(loop);
  }
  loop();
}

/* ğŸ”« GUN GAME */
function gunGame() {
  player = { x: 140 };
  bullets=[];
  obstacles=[];

  document.onmousemove = e => player.x = e.offsetX;
  document.onclick = ()=> bullets.push({x:player.x,y:350});

  function loop() {
    ctx.clearRect(0,0,300,400);
    ctx.fillStyle="yellow";
    ctx.fillRect(player.x,360,30,30);

    bullets.forEach(b=>{
      b.y-=6;
      ctx.fillRect(b.x, b.y, 5,10);
    });

    if (Math.random()<0.03)
      obstacles.push({x:Math.random()*260,y:0});

    obstacles.forEach(o=>{
      o.y+=3;
      ctx.fillStyle="red";
      ctx.fillRect(o.x,o.y,25,25);
      bullets.forEach(b=>{
        if (b.x<o.x+25 && b.x+5>o.x && b.y<o.y+25 && b.y+10>o.y)
          score++;
      });
    });

    if (score>6) return winGame();
    requestAnimationFrame(loop);
  }
  loop();
}
</script>

</body>
</html>
